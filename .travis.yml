sudo: false
language: java
jdk:
- oraclejdk7

notifications:
  email:
    recipients:
    - ldp4j-commits@googlegroups.com
    on_success: always
    on_failure: always

cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar"

before_cache:
  - source ./.travis/utils.sh backup-maven-repo

before_install:
  - source ./.travis/utils.sh prepare-repo

before_script:
  - source ./.travis/utils.sh prepare-keys $ENCRYPTION_PASSWORD

script:
  - source ./.travis/build.sh

after_success:
  - source ./.travis/utils.sh restore-maven-repo
  - source ./.travis/qa.sh

env:
  global:
  - secure: VmP1BLd2xxx8I9mVhvF/48QCKCBqnn+09bLhG7Ob1nx8L4SPq54dxt28gqF3nxCaHCRxlBfjN+SrLPgwoicGIYnZTt07naT2DiRIhqPkGXaOg8CZCYwq09zlI9wxVpF0lui5NRaPOquX5BVI0hHJLSPYHYpkiOJUBw0AjNu3LRF0pyWcHi1rop8AxFZxf0wJRHcke0IAP/kFt/zKUlEh0LvekqKeJ0UQZSLOe1dICFT0ckKGALOQQOGcpGd2xa0hw8p9GZuiSBkr3p4uVShbSwBaUnViHhVaL6VT2jQl5RFYC/+byEE4pF6MbjOtpLBWLYBNZiZQVnxDUxrSnZZt1xXg0elR/6x5ApcKgRB1sK1v2CacMWmCruyPWJJfF4ikRzy+ifKs/escYYFDYPuxpwoJ6KPLQ00Ro884cY37shETKj5todV7uJ1kyBUVaqlgGJvVqSx6HskAkCA9SqWKoBWQoDOF2s3biTDD0ml6g9ij9WtR48e/Ju/zArx4pmSxdI1A0v56R5ivzzmNwuBuzVibOIYQE7G9Xp5FI9kSYIhMRSHDM8yXUl3sA7YZM30VxUKVXmY0SWx718hiYj6UKRtIz5ghH/TiEhaOlyWQkab1waTduvdrox1Fi5R0IeAnDVwtUWqnv6VUe/2U3I0qGauzFkSJqp70RM3rDalpDAs=
  - secure: MJSYdLWW+P1Olf+nQxHwhcqoHXkL5lQs64nocY+tN1hgs/cvOr/rcOllTWGS/HxslmPIBEGVD4i7KZ4k1UOC+U0io/Jsft+2E84q9L7srwvU98lJ4zjyVOmiGPLiUwxO9FlqG/rnp5wzAWhllZpXOEnH4GjMqcNEaH4TVoA9N72Vp5/BXz8hyy/+rcap4KvroS/mVyqIHXgb5P7zsnhfeXV/2ocCekQ/S6OX51H/+yV9ALvM0kbbb+YEsTyAWrvuZD4c2H8of6VyZEzcY/ygO9On7BC0XpB8gBlDJgG20YHX9RRtdhZ8ZM6XNHtPNsPveV/icFH+OV/1UBlVRp3DvnZlrRtgG76yiK5jwexV7gasWjaHIR17SDFUJzr/kJ/vqLht8nPlklJY3qHWXlzH+jyAgqyZKWIkaEiSRIpYB8YunSFlRGsKyK2wPQ45EoC5yiAxezH41EkHTgXJCXitQ5C0I4CL0f7I/jQnbQF8//IAva4UEEBEeR5f/mfAdjhGFhVV4Bf3/7Jo4LhViM6IdW5R55yHom+lmaSFsEbQz1X/i0aqEoVNXsl/eYQB27pxnz26YK92ghQ27+lhJja3u3koHnTfM+1Yqd49DFw5CU10FdteJ/WyJt2vifBOHU1vzWcNDSXdaWlPCiD48UoLfWI2cR9xcYQ3kS34c+CY+y8=
  - secure: aU1izaw1+OQbnbT7EcDyxkx5teGLg7AyCKkshzbLZ7bx5ZxokakmYHwkgNYdwtET1YAire0QytgvYlkTFdf6MPPQpircFVq3RAEAQW8XL6PVJTh8T3M+noJlVZL9E+dEr+j1OyZfkDkx4E8f/PBhNBGHoa22CuZ0ZO9sxYRuwddkOZI+ID0+J4p7eSe/8FgadTnGW4WrTVEt4K6ZNOn5Dax9U+P+/i3P2oQwnFfnGnwm6i1tPJ54trXiq39CmMOTpC0ZbHxwoi5aesiLdw6L9NKHvGFUPMcSJ0J+MTBP7IFEowT30/TGwr4K6KuoClBan44qSu7oHDms4sF9QfaYAW8BH2OeuGTKOkxisBffJ2aOS/DlgCiIqf1KcNZw40T+6hVyo+zFgmOJo9IguPgZthgloSyZsttZV/KMN5HIIGENK7D4+q55uqdS2uE4Jvv3U4C+pQx3glx1iYe1/5Z11XMpEHMlc+D3twd5JRmC+IjqF8+Mr/jDFwmPCjjUgpclqrx58ywZ63osO4RiUe54h9ik5zaQAiUH5YYT8r+TZO6Rl9ttTPTP9SLMrJ41KUTnAr6RBalozKxLRcu6+z/DJWnwHBf9cGk/PFeJdoe2MJbfWxp3N8/jUlvAK2ABAfxbGdHAEHcYLiJAFWqJsJ5lxlDROePkNmI9CYsDD38ydPo=
  - secure: GzIibgG/z8Ya/f5RGCvpJqIjLzxLbInpz8wwLIrF9+SbC9jt3FN82BIJ+AfUd2RQcMHjPyJXZLf5styxqRokyxiGe5PvIFJu9qbpw1HovBoXmeiyl+ICjEW4Jpym50dlvg2r0KN1+/qT0NertjFTva7TXtttrhiTfXYKpnU+icmisEsBlZsI7/QDh/SFdM3c5QR3hqNkTDR0eL016zNSLGWhqYC6eHlCxYTuI0BPLtsQXVTXwYTyxPvttKcWNP+KBnr6WJlsMAbjokERa3fVrf8D5EeVXW6upjKcZ6gT6oQ7QSN2qSAqkdK662KsRmY1f84j4WrDM+9u+L2Y6OvNM3VI8u13s9RfosnDWn39a9PWG9D04lwcPcEMdxuHX7pDtOQfW51YHj/0LGd74+TT2AGb7jCsG3BYIlwdAn0e2N3PPISPLFhOgXKaEHd+sMiPhf7XZP2ITGvnsd9Q2uv/MGJ/qwwJda4FhWVZTxauT5BKY0+ZdiScuxH9s9UK8ELKIFv5kKwak8E39kYgFehKra0OIpBg2+p7A8H7cFQgQ91pcU2KMxitw5y46aQH1bvqBUvFDr1lG2VP7bIvBrGaWuuIDBsOQPQCNwHKXLM0kHGphqrzsSqxDQyXUMB3mqvE3mRHVmG+lEi3Y6tK57JrIEqiz/SmsfyslRxTriGtn1I=
  - secure: Yg5a3pTAuYQiZXfNY8pdfRsHDBAi2wOr3fhTV8oWqW3m8miUGKo8MH82FAbdHAnlaJfEwgMlS8xotu1w+SBSAsDcnxEGUI8oQSJPGctzLOpGEzeO+CGJ/X4LEgknONjzoXN2Knl5CtIU+OLLzvB1yelOyeFaJHSCcSLnvulWwBMmp7xr3VtAVk+JNlNzbzC8lmbkyCbv6eMybCSfzU+u14QwUv1X/5asVbJ8//5Xj3kAJWE3SkRA/d6iaFGfG5gZWzR+33fQ/ms7O4ppZGFj4llJEM9/x79WiDEPtCnLeKwKYufWojqfo3HH+UAVh3PD5oZC3krnCwNrrTzju13qrI7qkAVEVCws5E5JJJ0Pc0apKeC4+0NGThGnmZTkh/0PfjyVZWV2mYIo449W8XjeEDlVBcETIEVo5cobLYaOmCEg2oyjMugwZB67cUHsgOrZdYcjMaaJjdHZHjqtixJVukzrPtAmQyyZwdUbD1T0nt37yGKX+VuBd/f/X7eBuMVDiVcAW7MlN5ky6VQVJCZ6RpZB5zuJ2ePYekGup3aoSdOTUWkYQbqly/fjBXDHFFFRr5vStn/3enUwzvWxvX2N94UO362vhN6e6tkZrSDSc16TVorLaOOe03QHzYaIfnImgIE2BvAR0iwmSxft+T40/8hoIhrA77mDYcEWtNt6gWE=
  - secure: kO96MAzGlE9t0TrkLC5pIbMv/2daBvtmpEibzlZ/qzpg91a2WhaqvVwTnXpXsGl716P4Am4v45fyM2tjcYXWT3NC+EtZwankzk7T5Y5ZPDR+0EBy/NzZILBMAOmWAT/gvFkzGdOtr2tLUtymX9wjSbRTlZjTAmj5gdWFFcSNumhuf3PfKdQNwcr9gMQbwzgXpkQoJmvpwhxfJk22GB3h1a1wUpJ8LbOKbVYIYUCm36sHeD5Q6HeTH6NCttmYrQzTkkzb+z0eDwTRNlAz3/01qSctOTdmeL1vjKGlWWJi/n9llqTMm2xZFGTZzxMPBUlinPwR9ETpVx6mrMN5p+Ru5eBr/Pe+LVdIq5mdn2MR5q2qNbkgNeAcyF2n6P9eUcl4e1XurFopRv21QWwEMS/K9LBh9mOnubPUWlW+GGa1gZwWDOd9XejwpxVV+D3xY7ufJ/WnU2ZcMhRR33A+sjOqN7IHiFZZjzOSo661+n10/4O0D1J6VKIrSYj60WwAlywGY0asBHoUyedu3XVpCS6WlKisUiwIlHcVZlg/qcJOwQZfGgcO+6DgB0QdzSCcYYDMAdlbjjtrfZ1919/3ZBccrJqWxgRfhN9ROSf2ug5xb2XXie7cjEaklDR9l/Ds97/tecknp0abOWgtceAHcvmc7dgllTiMzsFDTwH5wgJHoJY=
  - secure: HBU0EqSqW3QPTdP6rOudeUpEwi8L7HoaK7uEzM2eJ7X6KbaZkG0g05w+meVhbBv0l8YQ9NUksmoMlMcz+4LUYBeZkErwbPpiuPZxa0hY2S7yZH51e3JrNzmr3ZG/DTmg7dIffWcptLA8cJSBgI5LnCqdVLTeZ3SrE6XeI6i3KM9/7wEoEV4FJLpys4IEc3ohSechA25m59oimE9xYf5YxTjB4vtmS5Q+eAWrG8acU9A/dSvcmdCjUieDqBa0RFhrU+AVYeKjJ8h3C4GQ8V6fOH1HjfPFZPFPMhvvGDgqKmKXtiUa/wkBR4r4w04VgWWls9ykBl6XtK/0jR/1rY01ye+3IlQlnZ3p7MIw+H4hEav4QWHNEwvAHaINeQalPHKiwxz/5BbFCxb00LcxfK/Wo6jEUzd2r+8UlTNZSfu9AYu+G0RUm70/YbhIG77bLjJV1UyaJXYY5cnNcCnhiaG6HpjoSjUZluW157zKoDzpcZDpHGyfG3+UqendYyhJMMmeX5IQltNaZ+4cWowqaXrEqX4lyyyIuTkB9WQRSUu0c0Fw/IHorIc/RAft+JvDhCySxBGDV9Wm9QQmlpdNyoCZQ50LKmUkqNuiU1Y/gkwWcSFU/vdJiqo7FTBJq9y95qYEVDIq5zi7kS5GrUml2JiDSSo9VERgHi4sELY9rMKDcKE=
  - secure: PNl75pl7uW6NuafxZWh3btakg9RWwPU89qpcEu+9/C5XfBTeURzlJrtBqpgtvus2Ppn2CIEuAr8lLGvorNysyp/sAuY5Aa7bEMTJLWfaD7iZBxdPTdnRNUwgxhJPMIPGKKrB7dbrqlTziNJRZCzJzXc1YCp4kxaNLKolL/iohNh9dueN6CJL5glg9jP0Xu7gjolrCRJv0tWSU2anMSi1JmJFzzZ2jqBM60UHQBqb2BkP4S1sX8Izcu/EXIXfNXg351UziKxNZss2oJdhdN6aA7T1esmQOqpsijJo5+5tx8ebR99uw18iaGU9r9POQ4dBW7t6Ww7NQQTb+k9DMUk0GmO3zHdyHwPsh+FvIlylI/Mq/w8CblQSMFRSYQbxPhe0tBi8+ADNsqBc7X7zh2OogmxRSRVX1O6UWmtwDxDesrC8/Q/ZkAr7t9Vi1kAtRNUtQINqDg2U9wM2KmprQLZPy43v99sAKa6bWFnVDwSNeYgXpQJgBxvqtAbpF9f0jyQ6dIjkXdDOsYvmNWoiEPLMxH9J9gWmJ6FhhKLZ7xNfw2PJ6hJ4Iufh6Vb12F5rnVzhq0mjewBOxnowyCwsazx3sUSc77LWmtu70u9Ux7JQPiPL+z+hyaWi3QgeE5U3xHrQapIisgTdHDqPD9kEmPX0PwzCI4OHvS/Tqsqumm2NN6E=
  - secure: lF1bfrDHDEmDt3E/TlImL5iDmA1Xwf9PcFViToKtTjQa11PASh0GgjfvHI+6GHIOFGGUK4Fmm2W+qwluwS1ELv5TyOBm9lyRPefqbfVP1U6L09X4YmTkHTLAf6IXuU+MHimgm5tOdHJuIiTVZSE4kCJDw3eN5Tq4NX2iLOhl8x8yYQKXxix3Kmlh0fYFXowUFhns8Hn/lrNDo+kI2gnleivlUYpWWK9fDJOOAuzOVm4Gu4A8aMbHDNj0Vb88m/Ot0OQ2Vpj/ZjjITt/dhMU3qPdWi3JEZ5uuBI7p16CcQEpRSrqbuVvbGg3FQG6Xd4vuurtD8B3OW5tWJlDc41w/paqSMwa4b9C5c2OTVN6ZxgYLikFDuehshbS8EbtMTwf33EX8CwxYsIazjSYbKKBTAOKSTx9OlHkzxXXK9GUPodxQ1aEYjvIAy+03Qr9BLJ8XqtepKfumWq93XSAEMVXbirMP4xcYynTBKHSR0p2M7Phb57UZ4G52EDnrhTbSW2FU3Ibah3oYpSzwXpqV1ykVUmf737JNCs06+AIrxg1ju6vLWa/KOwa5kYQH/ZS52AsTTZ/zVRY+/RX6mijFtVdDSwe6eBAyAV/rSBmY4kOb2B4TunfpLwf+3LihtmiNuRr+qAJlwXFM4+or4ud1f0pcADRlwmx/svEbhjuBfrX0XOg=
